# Routes
# This file defines all application routes (Higher priority routes first)
# https://www.playframework.com/documentation/latest/ScalaRouting
# ~~~~

GET      /                           controllers.HomeController.index
GET      /aide                       controllers.HomeController.help
GET      /bienvenue                  controllers.HomeController.welcome


# Application
GET      /nouvelle-demande          controllers.ApplicationController.create
POST     /nouvelle-demande          controllers.ApplicationController.createPost
GET      /toutes-les-demandes        controllers.ApplicationController.myApplications
GET      /as/:userId/toutes-les-demandes        controllers.ApplicationController.allAs(userId: java.util.UUID)
GET      /toutes-les-demandes.csv               controllers.ApplicationController.myCSV
GET      /exporter-mes-demandes                 controllers.ApplicationController.showExportMyApplicationsCSV
GET      /toutes-les-demandes/:id    controllers.ApplicationController.show(id: java.util.UUID)
POST     /toutes-les-demandes/:applicationId/inviter_des_utilisateurs     controllers.ApplicationController.invite(applicationId: java.util.UUID)
GET      /toutes-les-demandes/:applicationId/inviter_des_experts      controllers.ApplicationController.inviteExpert(applicationId: java.util.UUID)
POST     /toutes-les-demandes/:applicationId/messages               controllers.ApplicationController.answer(applicationId: java.util.UUID)
GET      /toutes-les-demandes/:applicationId/terminer               controllers.ApplicationController.terminate(applicationId: java.util.UUID)
GET      /toutes-les-demandes/:applicationId/fichiers/:filename    controllers.ApplicationController.applicationFile(applicationId: java.util.UUID, filename: String)
GET      /toutes-les-demandes/:applicationId/messages/:answerId/fichiers/:filename    controllers.ApplicationController.answerFile(applicationId: java.util.UUID, answerId: java.util.UUID, filename: String)


# Mandat
GET      /mandats/:id                controllers.MandatController.mandat(id: java.util.UUID)
POST     /mandats/sms                controllers.MandatController.beginMandatSms
+nocsrf
POST     /mandats/sms/webhook        controllers.MandatController.webhookSmsReceived


# Stats
GET     /stats                       controllers.ApplicationController.stats
POST     /stats                       controllers.ApplicationController.stats


# Login
GET    /login                        controllers.LoginController.login
POST   /login                        controllers.LoginController.login
GET    /login/disconnect             controllers.LoginController.disconnect
GET    /validation-connexion         controllers.LoginController.magicLinkAntiConsumptionPage


# Users

GET     /utilisateurs                           controllers.UserController.home
GET     /utilisateurs/:userId                   controllers.UserController.editUser(userId: java.util.UUID)
POST    /utilisateurs/:userId                   controllers.UserController.editUserPost(userId: java.util.UUID)
GET     /user/delete/unused/:userId             controllers.UserController.deleteUnusedUserById(userId: java.util.UUID)

# Importation
GET     /importation/utilisateurs-depuis-csv    controllers.CSVImportController.importUsersFromCSV
POST    /importation/revue-import               controllers.CSVImportController.importUsersReview
POST    /importation/import                     controllers.CSVImportController.importUsersAfterReview

# Groups
POST    /groups                         controllers.GroupController.addGroup
GET     /groups/:groupId                controllers.GroupController.editGroup(groupId: java.util.UUID)
POST    /groups/:groupId                controllers.GroupController.editGroupPost(groupId: java.util.UUID)
GET     /groups/:groupId/users          controllers.UserController.add(groupId: java.util.UUID)
POST    /groups/:groupId/users          controllers.UserController.addPost(groupId: java.util.UUID)
GET     /group/delete/unused/:groupId   controllers.GroupController.deleteUnusedGroupById(groupId: java.util.UUID)

# Events
GET     /events                     controllers.UserController.allEvents

# CGU
GET     /cgu                      controllers.UserController.showCGU
POST    /cgu                      controllers.UserController.validateCGU

# Newsletter
POST    /newsletter                      controllers.UserController.subscribeNewsletter

# Areas
GET     /territoires                            controllers.AreaController.all
GET     /territoires/deploiement                controllers.AreaController.deploymentDashboard
GET     /territoires/deploiement/france-service controllers.AreaController.franceServiceDeploymentDashboard
GET     /territoires/:areaId/demandes           controllers.ApplicationController.all(areaId: java.util.UUID)
GET     /territoires/:areaId/demandes.csv       controllers.ApplicationController.allCSV(areaId: java.util.UUID)
GET     /territoires/:areaId/utilisateurs       controllers.UserController.all(areaId: java.util.UUID)
GET     /territoires/:areaId/utilisateurs.csv   controllers.UserController.allCSV(areaId: java.util.UUID)

# Check
GET     /status                     controllers.HomeController.status

# API

GET     /api/deploiement/france-service          controllers.ApiController.franceServiceDeployment

# Javascript resource
GET     /jsRoutes           controllers.JavascriptController.javascriptRoutes


# Map static resources from the /public folder to the /assets URL path
GET     /assets/*file               controllers.Assets.versioned(path="/public", file: Asset)
->      /webjars                    webjars.Routes